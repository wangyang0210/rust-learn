# å‰è¨€

æœ¬ç« ä»‹ç»äº†å‡ ä¹æ‰€æœ‰ç¼–ç¨‹è¯­è¨€ä¸­å‡ºç°çš„æ¦‚å¿µä»¥åŠå®ƒä»¬åœ¨ Rust ä¸­çš„å·¥ä½œæ–¹å¼ã€‚è®¸å¤šç¼–ç¨‹è¯­è¨€çš„æ ¸å¿ƒæœ‰å¾ˆå¤šå…±åŒç‚¹ã€‚æœ¬ç« ä¸­ä»‹ç»çš„æ¦‚å¿µéƒ½ä¸æ˜¯ Rust ç‹¬æœ‰çš„ï¼Œä½†æˆ‘ä»¬å°†åœ¨ Rust çš„èƒŒæ™¯ä¸­è®¨è®ºå®ƒä»¬ï¼Œå¹¶è§£é‡Šä½¿ç”¨è¿™äº›æ¦‚å¿µçš„çº¦å®šã€‚

å…·ä½“æ¥è¯´ï¼Œæ‚¨å°†äº†è§£å˜é‡ã€åŸºæœ¬ç±»å‹ã€å‡½æ•°ã€æ³¨é‡Šå’Œæ§åˆ¶æµã€‚è¿™äº›åŸºç¡€å°†å‡ºç°åœ¨æ¯ä¸ª Rust ç¨‹åºä¸­ï¼Œå°½æ—©å­¦ä¹ å®ƒä»¬å°†ä¸ºæ‚¨æä¾›ä¸€ä¸ªå¼ºå¤§çš„æ ¸å¿ƒã€‚å…³äºRustå‘½åè§„èŒƒï¼Œå¤§å®¶å¯è®¿é—® [rust rfcs](https://rust-lang.github.io/rfcs/0430-finalizing-naming-conventions.html) æŸ¥çœ‹ã€‚



> ust è¯­è¨€æœ‰ä¸€ç»„å…³é”®å­—ï¼Œè¿™äº›å…³é”®å­—ä»…ä¾›è¯¥è¯­è¨€ä½¿ç”¨ï¼Œå°±åƒåœ¨å…¶ä»–è¯­è¨€ä¸­ä¸€æ ·ã€‚è¯·è®°ä½ï¼Œæ‚¨ä¸èƒ½å°†è¿™äº›è¯ç”¨ä½œå˜é‡æˆ–å‡½æ•°çš„åç§°ã€‚å¤§å¤šæ•°å…³é”®å­—éƒ½æœ‰ç‰¹æ®Šçš„å«ä¹‰ï¼Œæ‚¨å°†ä½¿ç”¨å®ƒä»¬æ¥æ‰§è¡Œ Rust ç¨‹åºä¸­çš„å„ç§ä»»åŠ¡;æœ‰äº›å½“å‰æ²¡æœ‰ä¸ä¹‹ç›¸å…³çš„åŠŸèƒ½ï¼Œä½†å·²ä¿ç•™ç”¨äºå°†æ¥å¯èƒ½æ·»åŠ åˆ° Rust ä¸­çš„åŠŸèƒ½ã€‚æ‚¨å¯ä»¥åœ¨[é™„å½• A](https://doc.rust-lang.org/book/appendix-01-keywords.html) ä¸­æ‰¾åˆ°å…³é”®å­—åˆ—è¡¨ã€‚



# å†…å®¹

æ¥ä¸‹æ¥æˆ‘ä»¬å°†ä¸€èµ·å­¦ä¹ å…·ä½“çš„å†…å®¹ï¼Œä¸»è¦æœ‰ä»¥ä¸‹æ¨¡å—ï¼š

- å˜é‡å’Œå¯å˜æ€§
- æ•°æ®ç±»å‹
- å‡½æ•°
- æ³¨é‡Š
- æ§åˆ¶æµ

### å˜é‡å’Œå¯å˜æ€§

é»˜è®¤æƒ…å†µä¸‹å˜é‡æ˜¯ä¸å¯å˜çš„ï¼ˆ*immutable*ï¼‰ã€‚è¿™æ˜¯ Rust ä¼—å¤šç²¾å¦™ä¹‹å¤„çš„å…¶ä¸­ä¸€ä¸ªï¼Œè¿™äº›ç‰¹æ€§è®©æ‚¨å……åˆ†åˆ©ç”¨ Rust æä¾›çš„å®‰å…¨æ€§å’Œç®€å•å¹¶å‘æ€§çš„æ–¹å¼æ¥ç¼–å†™ä»£ç ã€‚ä¸è¿‡æ‚¨ä¹Ÿå¯ä»¥é€‰æ‹©è®©å˜é‡æ˜¯å¯å˜çš„ï¼ˆ*mutable*ï¼‰ã€‚è®©æˆ‘ä»¬æ¢è®¨ä¸€ä¸‹ Rust å¦‚ä½•åŠä¸ºä»€ä¹ˆé¼“åŠ±æ‚¨é€‰ç”¨ä¸å¯å˜æ€§ï¼Œä»¥åŠä¸ºä»€ä¹ˆæœ‰æ—¶æ‚¨å¯èƒ½ä¸é€‰ç”¨ã€‚

å½“å˜é‡ä¸å¯å˜æ—¶ï¼Œä¸€æ—¦å€¼ç»‘å®šåˆ°å˜é‡ï¼Œå°±æ— æ³•æ›´æ”¹è¯¥å€¼ã€‚ä¸ºäº†è¯´æ˜è¿™ä¸€ç‚¹ï¼Œè¯·ä½¿ç”¨ `cargo new variables` åœ¨é¡¹ç›®ç›®å½•ä¸­ç”Ÿæˆä¸€ä¸ªåä¸º variables çš„æ–°é¡¹ç›®ã€‚

ç„¶åï¼Œåœ¨æ–°çš„å˜é‡ç›®å½•ä¸­ï¼Œæ‰“å¼€ src/main.rs å¹¶å°†å…¶ä»£ç æ›¿æ¢ä¸ºä»¥ä¸‹ä»£ç ï¼Œè¯¥ä»£ç è¿˜ä¸ä¼šç¼–è¯‘ï¼š

```rust
fn main() {
    let x = 5;
    println!("The value of x is: {x}");
    x = 6;
    println!("The value of x is: {x}")
}
```

ä¿å­˜å¹¶è¿è¡Œç¨‹åº `cargo run` ã€‚æ‚¨åº”è¯¥ä¼šæ”¶åˆ°æœ‰å…³ä¸å¯å˜æ€§é”™è¯¯çš„é”™è¯¯æ¶ˆæ¯ï¼Œå¦‚ä»¥ä¸‹è¾“å‡ºæ‰€ç¤ºï¼š

```shell
$ cargo run 
   Compiling variables v0.1.0 (/Users/wangyang/Documents/project/rust-learn/variables)
error[E0384]: cannot assign twice to immutable variable `x`
 --> src/main.rs:4:5
  |
2 |     let x = 5;
  |         -
  |         |
  |         first assignment to `x`
  |         help: consider making this binding mutable: `mut x`
3 |     println!("The value of x is: {x}");
4 |     x = 6;
  |     ^^^^^ cannot assign twice to immutable variable

For more information about this error, try `rustc --explain E0384`.
error: could not compile `variables` (bin "variables") due to 1 previous error
```

æ­¤ç¤ºä¾‹æ¼”ç¤ºç¼–è¯‘å™¨å¦‚ä½•å¸®åŠ©æ‚¨æŸ¥æ‰¾ç¨‹åºä¸­çš„é”™è¯¯ã€‚ç¼–è¯‘å™¨é”™è¯¯å¯èƒ½ä»¤äººæ²®ä¸§ï¼Œä½†å®é™…ä¸Šå®ƒä»¬åªæ„å‘³ç€æ‚¨çš„ç¨‹åºå°šæœªå®‰å…¨åœ°æ‰§è¡Œæ‚¨å¸Œæœ›å®ƒæ‰§è¡Œçš„æ“ä½œ;è¿™å¹¶ä¸æ„å‘³ç€æ‚¨ä¸æ˜¯ä¸€ä¸ªå¥½çš„ç¨‹åºå‘˜ï¼æœ‰ç»éªŒçš„ Rustaceans ä»ç„¶ä¼šé‡åˆ°ç¼–è¯‘å™¨é”™è¯¯ã€‚

æ‚¨æ”¶åˆ°é”™è¯¯æ¶ˆæ¯ `cannot assign twice to immutable variable `x`` æ˜¯å› ä¸ºæ‚¨å°è¯•å°†ç¬¬äºŒä¸ªå€¼åˆ†é…ç»™ä¸å¯ `x` å˜å˜é‡ã€‚

å½“æˆ‘ä»¬å°è¯•æ›´æ”¹æŒ‡å®šä¸ºä¸å¯å˜çš„å€¼æ—¶ï¼Œé‡åˆ°ç¼–è¯‘æ—¶é”™è¯¯éå¸¸é‡è¦ï¼Œå› ä¸ºè¿™ç§æƒ…å†µå¯èƒ½ä¼šå¯¼è‡´é”™è¯¯ã€‚å¦‚æœä»£ç çš„ä¸€éƒ¨åˆ†åŸºäºä¸€ä¸ªå€¼æ°¸è¿œä¸ä¼šæ”¹å˜çš„å‡è®¾æ¥æ“ä½œï¼Œè€Œä»£ç çš„å¦ä¸€éƒ¨åˆ†æ›´æ”¹äº†è¯¥å€¼ï¼Œé‚£ä¹ˆä»£ç çš„ç¬¬ä¸€éƒ¨åˆ†å¯èƒ½æ— æ³•æ‰§è¡Œå…¶è®¾è®¡è¦æ‰§è¡Œçš„æ“ä½œã€‚è¿™ç§é”™è¯¯çš„åŸå› åœ¨äº‹åå¯èƒ½å¾ˆéš¾è¿½è¸ªï¼Œå°¤å…¶æ˜¯å½“ç¬¬äºŒæ®µä»£ç åªæ˜¯å¶å°”æ›´æ”¹å€¼æ—¶ã€‚Rust ç¼–è¯‘å™¨ä¿è¯ï¼Œå½“ä½ å£°æ˜ä¸€ä¸ªå€¼ä¸ä¼šæ”¹å˜æ—¶ï¼Œå®ƒçœŸçš„ä¸ä¼šæ”¹å˜ï¼Œæ‰€ä»¥ä½ ä¸å¿…è‡ªå·±è·Ÿè¸ªå®ƒã€‚å› æ­¤ï¼Œæ‚¨çš„ä»£ç æ›´å®¹æ˜“æ¨ç†ã€‚

ä½†æ˜¯å¯å˜æ€§å¯èƒ½éå¸¸æœ‰ç”¨ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ä»£ç ç¼–å†™æ›´æ–¹ä¾¿ã€‚å°½ç®¡å˜é‡åœ¨é»˜è®¤æƒ…å†µä¸‹æ˜¯ä¸å¯å˜çš„ï¼Œä½†æ‚¨å¯ä»¥é€šè¿‡åœ¨å˜é‡åç§°å‰é¢æ·»åŠ  `mut` å®ƒä»¬æ¥ä½¿å®ƒä»¬å¯å˜ã€‚æ·»åŠ  `mut` è¿˜é€šè¿‡æŒ‡ç¤ºä»£ç çš„å…¶ä»–éƒ¨åˆ†å°†æ›´æ”¹æ­¤å˜é‡çš„å€¼æ¥å‘ä»£ç çš„æœªæ¥è¯»è€…ä¼ è¾¾æ„å›¾ã€‚

è®©æˆ‘ä»¬å°† src/main.rs æ›´æ”¹ä¸ºä»¥ä¸‹å†…å®¹ï¼š

```rust
fn main() {
    let mut x = 5;
    println!("The value of x is: {x}");
    x = 6;
    println!("The value of x is: {x}")
}
```

å½“æˆ‘ä»¬ç°åœ¨è¿è¡Œç¨‹åºæ—¶ï¼Œæˆ‘ä»¬å¾—åˆ°ä»¥ä¸‹ç»“æœï¼š

```shell
$ cargo run
   Compiling variables v0.1.0 (/Users/wangyang/Documents/project/rust-learn/variables)
    Finished `dev` profile [unoptimized + debuginfo] target(s) in 0.38s
     Running `target/debug/variables`
The value of x is: 5
The value of x is: 6
```

åŠ ä¸Š `mut` åï¼Œæˆ‘ä»¬å°±å¯ä»¥å°† `x` ç»‘å®šçš„å€¼ä» `5` æ”¹æˆ `6`ã€‚å½’æ ¹ç»“åº•ï¼Œå†³å®šæ˜¯å¦ä½¿ç”¨å¯å˜æ€§å–å†³äºæ‚¨ï¼Œå¹¶å–å†³äºæ‚¨çŸ¥é“è‡ªå·±åœ¨åšä»€ä¹ˆã€‚

#### å¸¸æ•°

ä¸ä¸å¯å˜å˜é‡ä¸€æ ·ï¼Œå¸¸é‡æ˜¯ç»‘å®šåˆ°å˜é‡ä¸”ä¸å…è®¸æ›´æ”¹çš„å€¼ï¼Œä½†å¸¸é‡å’Œå˜é‡ä¹‹é—´å­˜åœ¨ä¸€äº›å·®å¼‚ã€‚

é¦–å…ˆï¼Œä¸å…è®¸ä¸å¸¸é‡ä¸€èµ·ä½¿ç”¨ `mut` ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œå¸¸é‡ä¸ä»…æ˜¯ä¸å¯å˜çš„ï¼Œè€Œä¸”å§‹ç»ˆæ˜¯ä¸å¯å˜çš„ã€‚ä½¿ç”¨ `const` å…³é”®å­—è€Œä¸æ˜¯ `let` å…³é”®å­—å£°æ˜å¸¸é‡ï¼Œå¹¶ä¸”å¿…é¡»å¯¹å€¼çš„ç±»å‹è¿›è¡Œæ‰¹æ³¨ã€‚æˆ‘ä»¬å°†åœ¨ä¸‹ä¸€èŠ‚â€œæ•°æ®ç±»å‹â€ä¸­ä»‹ç»ç±»å‹å’Œç±»å‹æ³¨é‡Šï¼Œå› æ­¤ç°åœ¨ä¸ç”¨æ‹…å¿ƒç»†èŠ‚ã€‚åªè¦çŸ¥é“æ‚¨å¿…é¡»å§‹ç»ˆå¯¹ç±»å‹è¿›è¡Œæ‰¹æ³¨ã€‚

å¸¸é‡å¯ä»¥åœ¨ä»»ä½•ä½œç”¨åŸŸï¼ˆåŒ…æ‹¬å…¨å±€ä½œç”¨åŸŸï¼‰ä¸­å£°æ˜ï¼Œè¿™ä½¿å¾—å®ƒä»¬å¯¹äºä»£ç çš„è®¸å¤šéƒ¨åˆ†éœ€è¦äº†è§£çš„å€¼å¾ˆæœ‰ç”¨ã€‚

æœ€åä¸€ä¸ªåŒºåˆ«æ˜¯ï¼Œå¸¸é‡åªèƒ½è®¾ç½®ä¸ºå¸¸é‡è¡¨è¾¾å¼ï¼Œè€Œä¸èƒ½è®¾ç½®ä¸ºåªèƒ½åœ¨è¿è¡Œæ—¶è®¡ç®—çš„å€¼çš„ç»“æœã€‚

ä¸‹é¢æ˜¯å¸¸é‡å£°æ˜çš„ç¤ºä¾‹ï¼š

```rust
const THREE_HOURS_IN_SECONDS: u32 = 60 * 60 * 3;
```

å¸¸é‡çš„åç§°æ˜¯ `THREE_HOURS_IN_SECONDS` ï¼Œå…¶å€¼è®¾ç½®ä¸ºå°† 60ï¼ˆä¸€åˆ†é’Ÿä¸­çš„ç§’æ•°ï¼‰ä¹˜ä»¥ 60ï¼ˆä¸€å°æ—¶ä¸­çš„åˆ†é’Ÿæ•°ï¼‰ä¹˜ä»¥ 3ï¼ˆæˆ‘ä»¬è¦åœ¨æ­¤ç¨‹åºä¸­è®¡ç®—çš„å°æ—¶æ•°ï¼‰çš„ç»“æœã€‚Rust å¯¹å¸¸é‡çš„å‘½åçº¦å®šæ˜¯ä½¿ç”¨å…¨éƒ¨å¤§å†™å­—æ¯ï¼Œå•è¯ä¹‹é—´å¸¦æœ‰ä¸‹åˆ’çº¿ã€‚ç¼–è¯‘å™¨èƒ½å¤Ÿåœ¨ç¼–è¯‘æ—¶è¯„ä¼°ä¸€ç»„æœ‰é™çš„æ“ä½œï¼Œè¿™ä½¿æˆ‘ä»¬èƒ½å¤Ÿé€‰æ‹©ä»¥æ›´æ˜“äºç†è§£å’ŒéªŒè¯çš„æ–¹å¼å†™å‡ºæ­¤å€¼ï¼Œè€Œä¸æ˜¯å°†æ­¤å¸¸é‡è®¾ç½®ä¸ºå€¼ 10,800ã€‚è¯·å‚é˜… Rust å‚è€ƒä¸­å…³äº[å¸¸é‡è®¡ç®—]([Rust Referenceâ€™s section on constant evaluation](https://doc.rust-lang.org/reference/const_eval.html))çš„éƒ¨åˆ†ï¼Œä»¥è·å–æœ‰å…³å£°æ˜å¸¸é‡æ—¶å¯ä»¥ä½¿ç”¨å“ªäº›æ“ä½œçš„æ›´å¤šä¿¡æ¯ã€‚

å¸¸é‡åœ¨ç¨‹åºè¿è¡Œçš„æ•´ä¸ªç¨‹åºå†…æœ‰æ•ˆï¼Œåœ¨å£°æ˜å¸¸é‡çš„èŒƒå›´å†…ã€‚æ­¤å±æ€§ä½¿å¸¸é‡å¯¹äºåº”ç”¨ç¨‹åºåŸŸä¸­çš„å€¼éå¸¸æœ‰ç”¨ï¼Œç¨‹åºçš„å¤šä¸ªéƒ¨åˆ†å¯èƒ½éœ€è¦äº†è§£è¿™äº›å€¼ï¼Œä¾‹å¦‚å…è®¸æ¸¸æˆçš„ä»»ä½•ç©å®¶è·å¾—çš„æœ€å¤§ç‚¹æ•°æˆ–å…‰é€Ÿã€‚

å°†æ•´ä¸ªç¨‹åºä¸­ä½¿ç”¨çš„ç¡¬ç¼–ç å€¼å‘½åä¸ºå¸¸é‡ï¼Œæœ‰åŠ©äºå°†è¯¥å€¼çš„å«ä¹‰ä¼ è¾¾ç»™ä»£ç çš„æœªæ¥ç»´æŠ¤è€…ã€‚å¦‚æœå°†æ¥éœ€è¦æ›´æ–°ç¡¬ç¼–ç å€¼ï¼Œåˆ™ä»£ç ä¸­åªæœ‰ä¸€ä¸ªä½ç½®éœ€è¦æ›´æ”¹ï¼Œè¿™ä¹Ÿæœ‰æ‰€å¸®åŠ©ã€‚

#### é®è”½

æˆ‘ä»¬å¯ä»¥é€šè¿‡ä½¿ç”¨ç›¸åŒçš„å˜é‡åå¹¶é‡å¤ä½¿ç”¨ `let` å…³é”®å­—æ¥é®è”½å˜é‡ï¼Œåœ¨åé¢çš„å£°æ˜ä¼šé®è”½å‰é¢çš„å˜é‡å£°æ˜ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

```rust
fn main() {
    let x = 5;

    let x = x + 1;

    {
        let x = x * 2;
        println!("The value of x in the inner scope is: {x}");
    }

    println!("The value of x is: {x}");
}
```

æ­¤ç¨‹åºé¦–å…ˆç»‘ `x` å®šåˆ°å€¼ `5` ã€‚ç„¶å `x` å®ƒé€šè¿‡é‡å¤ `let x =` åˆ›å»ºä¸€ä¸ªæ–°å˜é‡ï¼Œå–åŸå§‹å€¼å¹¶ç›¸åŠ  `1` ï¼Œå› æ­¤ çš„ `x` å€¼ä¸º `6` ã€‚ç„¶åï¼Œåœ¨ç”¨å¤§æ‹¬å·åˆ›å»ºçš„å†…éƒ¨ä½œç”¨åŸŸå†…ï¼Œç¬¬ä¸‰ä¸ª `let` è¯­å¥ä¹Ÿä¼šé®è”½ `x` å¹¶åˆ›å»ºä¸€ä¸ªæ–°å˜é‡ï¼Œå°†å‰ä¸€ä¸ªå€¼ä¹˜ä»¥ `2` å¾—åˆ° `x` å€¼ `12` ã€‚å½“è¯¥èŒƒå›´ç»“æŸæ—¶ï¼Œå†…éƒ¨é®è”½ç»“æŸå¹¶ `x` æ¢å¤ä¸ºå­˜åœ¨ `6` ã€‚å½“æˆ‘ä»¬è¿è¡Œè¿™ä¸ªç¨‹åºæ—¶ï¼Œå®ƒå°†è¾“å‡ºä»¥ä¸‹å†…å®¹ï¼š

```shell
$ cargo run
   Compiling variables v0.1.0 (/Users/wangyang/Documents/project/rust-learn/variables)
    Finished `dev` profile [unoptimized + debuginfo] target(s) in 0.07s
     Running `target/debug/variables`
The value of x in the inner scope is: 12
The value of x is: 6
```

é®è”½å’Œ `mut` å˜é‡çš„ä½¿ç”¨æ˜¯ä¸åŒçš„ï¼Œå› ä¸ºé™¤éæˆ‘ä»¬å†æ¬¡ä½¿ç”¨ `let` å…³é”®å­—ï¼Œå¦åˆ™è‹¥æ˜¯æˆ‘ä»¬ä¸å°å¿ƒå°è¯•é‡æ–°èµ‹å€¼ç»™è¿™ä¸ªå˜é‡ï¼Œæˆ‘ä»¬å°†å¾—åˆ°ä¸€ä¸ªç¼–è¯‘é”™è¯¯ã€‚é€šè¿‡ä½¿ç”¨ `let`ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹ä¸€ä¸ªå€¼è¿›è¡Œä¸€äº›è½¬æ¢ï¼Œä½†åœ¨è¿™äº›è½¬æ¢å®Œæˆåï¼Œå˜é‡å°†æ˜¯ä¸å¯å˜çš„ã€‚

 `mut`å’Œé®è”½ å¦ä¸€ä¸ªåŒºåˆ«æ˜¯ï¼Œç”±äºå½“æˆ‘ä»¬å†æ¬¡ä½¿ç”¨ `let` å…³é”®å­—æ—¶ï¼Œæˆ‘ä»¬å®é™…ä¸Šæ˜¯åœ¨åˆ›å»ºä¸€ä¸ªæ–°å˜é‡ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥æ›´æ”¹å€¼çš„ç±»å‹ï¼Œå¹¶é‡å¤ä½¿ç”¨ç›¸åŒçš„åç§°ï¼Œ ç”±æ­¤å¯å¾—`mut`æ€§èƒ½è¦æ›´å¥½ï¼Œå› ä¸º`mut` å£°æ˜çš„å˜é‡ï¼Œä¿®æ”¹çš„æ˜¯åŒä¸€ä¸ªå†…å­˜åœ°å€ä¸Šçš„å€¼ï¼Œå¹¶ä¸ä¼šå‘ç”Ÿå†…å­˜å¯¹è±¡çš„å†åˆ†é…ã€‚

ä¾‹å¦‚ï¼Œå‡è®¾æˆ‘ä»¬çš„ç¨‹åºè¦æ±‚ç”¨æˆ·é€šè¿‡è¾“å…¥ç©ºæ ¼å­—ç¬¦æ¥æ˜¾ç¤ºä»–ä»¬æƒ³è¦åœ¨ä¸€äº›æ–‡æœ¬ä¹‹é—´æœ‰å¤šå°‘ä¸ªç©ºæ ¼ï¼Œç„¶åæˆ‘ä»¬å¸Œæœ›å°†è¯¥è¾“å…¥å­˜å‚¨ä¸ºä¸€ä¸ªæ•°å­—ï¼š

```rust
fn main() {
    let spaces = "  ";
    let spaces = spaces.len();
    println!("spaces: {spaces}")
}
```

ç¬¬ä¸€ä¸ª `spaces` å˜é‡æ˜¯å­—ç¬¦ä¸²ç±»å‹ï¼Œç¬¬äºŒä¸ª `spaces` å˜é‡æ˜¯æ•°å­—ç±»å‹ã€‚å› æ­¤ï¼Œå˜é‡é®è”½ä½¿æˆ‘ä»¬ä¸å¿…æƒ³å‡ºä¸åŒçš„åç§°ï¼Œä¾‹å¦‚ `spaces_str` å’Œ `spaces_num` ;

å¦‚æœæˆ‘ä»¬å°è¯•ä½¿ç”¨ `mut` æ­¤æ“ä½œï¼Œåˆä¼šæ˜¯ä»€ä¹ˆæ ·å‘¢ï¼Ÿ

```rust
fn main() {
    let mut spaces = "  ";
    spaces = spaces.len();
    println!("spaces: {spaces}")
}
```

ç»“æœå¦‚ä¸‹ï¼Œæˆ‘ä»¬å¾—åˆ°äº†ä¸€ä¸ªç¼–è¯‘æœŸçš„é”™è¯¯ï¼Œè¯¥é”™è¯¯è¡¨æ˜æˆ‘ä»¬ä¸å…è®¸æ›´æ”¹å˜é‡çš„ç±»å‹ï¼š

```shell
$cargo run
	Compiling variables v0.1.0 (/Users/wangyang/Documents/project/rust-learn/variables)
error[E0308]: mismatched types
  --> src/main.rs:39:14
   |
38 |     let mut spaces = "  ";
   |                      ---- expected due to this value
39 |     spaces = spaces.len();
   |              ^^^^^^^^^^^^ expected `&str`, found `usize`

For more information about this error, try `rustc --explain E0308`.
error: could not compile `variables` (bin "variables") due to 1 previous error
```

ç°åœ¨æˆ‘ä»¬å·²ç»æ¢è®¨äº†å˜é‡æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å­¦ä¹ æ›´å¤šçš„æ•°æ®ç±»å‹ã€‚



### æ•°æ®ç±»å‹

Rust ä¸­çš„æ¯ä¸ªå€¼éƒ½å…·æœ‰ç‰¹å®šçš„æ•°æ®ç±»å‹ï¼Œå®ƒå‘Šè¯‰ Rust æŒ‡å®šäº†å“ªç§æ•°æ®ï¼Œä»¥ä¾¿å®ƒçŸ¥é“å¦‚ä½•å¤„ç†è¿™äº›æ•°æ®ã€‚æˆ‘ä»¬å°†ç ”ç©¶ä¸¤ä¸ªæ•°æ®ç±»å‹å­é›†ï¼šæ ‡é‡å’Œå¤åˆã€‚

è¯·è®°ä½ï¼ŒRust æ˜¯ä¸€ç§é™æ€ç±»å‹è¯­è¨€ï¼Œè¿™æ„å‘³ç€å®ƒå¿…é¡»åœ¨ç¼–è¯‘æ—¶çŸ¥é“æ‰€æœ‰å˜é‡çš„ç±»å‹ã€‚ç¼–è¯‘å™¨é€šå¸¸å¯ä»¥æ ¹æ®å€¼å’Œä½¿ç”¨æ–¹å¼æ¨æ–­æˆ‘ä»¬æƒ³è¦ä½¿ç”¨çš„ç±»å‹ã€‚åœ¨å¯èƒ½æœ‰è®¸å¤šç±»å‹çš„æƒ…å†µä¸‹ï¼Œä¾‹å¦‚å½“æˆ‘ä»¬åœ¨â€œçŒœç§˜å¯†æ•°å­—â€éƒ¨åˆ†ä¸­ä½¿ç”¨ `parse` å°†  `String` è½¬æ¢ä¸ºæ•°å­—ç±»å‹æ—¶ï¼Œæˆ‘ä»¬å¿…é¡»æ·»åŠ ä¸€ä¸ªç±»å‹æ³¨é‡Šï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

```rust
let guess: u32 = "42".parse().expect("Not a number!");
```

å¦‚æœæˆ‘ä»¬ä¸æ·»åŠ å‰é¢ä»£ç ä¸­æ˜¾ç¤ºçš„ `: u32` ç±»å‹æ³¨è§£ï¼ŒRust å°†æ˜¾ç¤ºä»¥ä¸‹é”™è¯¯ï¼Œè¿™æ„å‘³ç€ç¼–è¯‘å™¨éœ€è¦æˆ‘ä»¬æä¾›æ›´å¤šä¿¡æ¯æ‰èƒ½çŸ¥é“æˆ‘ä»¬æƒ³è¦ä½¿ç”¨å“ªç§ç±»å‹ï¼š

```shell
$ cargo run
   Compiling variables v0.1.0 (/Users/wangyang/Documents/project/rust-learn/variables)
error[E0284]: type annotations needed
  --> src/main.rs:46:9
   |
46 |     let guess = "42".parse().expect("Not a number!");
   |         ^^^^^        ----- type must be known at this point
   |
   = note: cannot satisfy `<_ as FromStr>::Err == _`
help: consider giving `guess` an explicit type
   |
46 |     let guess: /* Type */ = "42".parse().expect("Not a number!");
   |              ++++++++++++

For more information about this error, try `rustc --explain E0284`.
error: could not compile `variables` (bin "variables") due to 1 previous error
```

#### æ ‡é‡ç±»å‹

æ ‡é‡ç±»å‹è¡¨ç¤ºå•ä¸ªå€¼ã€‚Rust æœ‰å››ç§ä¸»è¦æ ‡é‡ç±»å‹ï¼šæ•´æ•°ã€æµ®ç‚¹æ•°ã€å¸ƒå°”å€¼å’Œå­—ç¬¦ã€‚æ‚¨å¯ä»¥ä»å…¶ä»–ç¼–ç¨‹è¯­è¨€ä¸­è¯†åˆ«å‡ºè¿™äº›ã€‚è®©æˆ‘ä»¬æ¥çœ‹çœ‹å®ƒä»¬åœ¨ Rust ä¸­æ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚

##### æ•´å‹

æ•´æ•°æ˜¯æ²¡æœ‰å°æ•°åˆ†é‡çš„æ•°å­—ã€‚æˆ‘ä»¬åœ¨çŒœè°œæ¸¸æˆä¸­ä½¿ç”¨äº†ä¸€ç§æ•´æ•°ç±»å‹ï¼Œå³ `u32` typeã€‚æ­¤ç±»å‹å£°æ˜æŒ‡ç¤ºä¸å…¶å…³è”çš„å€¼åº”ä¸ºå ç”¨ 32 ä½ç©ºé—´çš„æ— ç¬¦å·æ•´æ•°ï¼ˆæœ‰ç¬¦å·æ•´æ•°ç±»å‹ä»¥ `i` è€Œä¸æ˜¯ `u` å¼€å¤´ï¼‰ã€‚ä¸‹è¡¨ä¸º Rust ä¸­çš„å†…ç½®æ•´æ•°ç±»å‹ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨è¿™äº›å˜ä½“ä¸­çš„ä»»ä½•ä¸€ä¸ªæ¥å£°æ˜æ•´æ•°å€¼çš„ç±»å‹ã€‚

| Length  | Signed  | Unsigned |
| ------- | ------- | -------- |
| 8-bit   | `i8`    | `u8`     |
| 16-bit  | `i16`   | `u16`    |
| 32-bit  | `i32`   | `u32`    |
| 64-bit  | `i64`   | `u64`    |
| 128-bit | `i128`  | `u128`   |
| arch    | `isize` | `usize`  |

ä¸ªå®šä¹‰å½¢å¼è¦ä¹ˆæ˜¯æœ‰ç¬¦å·ç±»å‹è¦ä¹ˆæ˜¯æ— ç¬¦å·ç±»å‹ï¼Œä¸”å¸¦æœ‰ä¸€ä¸ªæ˜¾å¼çš„å¤§å°ã€‚**æœ‰ç¬¦å·**å’Œ**æ— ç¬¦å·**è¡¨ç¤ºæ•°å­—èƒ½å¦å–è´Ÿæ•°â€”â€”ä¹Ÿå°±æ˜¯è¯´ï¼Œè¿™ä¸ªæ•°æ˜¯å¦å¯èƒ½æ˜¯è´Ÿæ•°ï¼ˆæœ‰ç¬¦å·ç±»å‹ï¼‰ï¼Œæˆ–ä¸€ç›´ä¸ºæ­£è€Œä¸éœ€è¦å¸¦ä¸Šç¬¦å·ï¼ˆæ— ç¬¦å·ç±»å‹ï¼‰ã€‚å°±åƒåœ¨çº¸ä¸Šå†™æ•°å­—ä¸€æ ·ï¼šå½“è¦å¼ºè°ƒç¬¦å·æ—¶ï¼Œæ•°å­—å‰é¢å¯ä»¥å¸¦ä¸Šæ­£å·æˆ–è´Ÿå·ï¼›ç„¶è€Œï¼Œå½“å¾ˆæ˜æ˜¾ç¡®å®šæ•°å­—ä¸ºæ­£æ•°æ—¶ï¼Œå°±ä¸éœ€è¦åŠ ä¸Šæ­£å·äº†ã€‚æœ‰ç¬¦å·çš„æ•°å­—ä½¿ç”¨äºŒè¿›åˆ¶[è¡¥ç ](https://baike.baidu.com/item/%E8%A1%A5%E7%A0%81/6854613)è¡¨ç¤ºè¿›è¡Œå­˜å‚¨ã€‚

æ¯ä¸ªæœ‰ç¬¦å·ç±»å‹è§„å®šçš„æ•°å­—èŒƒå›´æ˜¯   
$$
-(2^{n-1}) ï½ 2^{n-1}-1ï¼ˆå«ï¼‰
$$
å…¶ä¸­ `n` æ˜¯è¯¥å®šä¹‰å½¢å¼çš„ä½é•¿åº¦ã€‚æ‰€ä»¥ `i8` å¯å­˜å‚¨æ•°å­—èŒƒå›´æ˜¯ 
$$
-(2^7) ï½ 2^7-1
$$
ï¼Œå³ -128 ~ 127ã€‚æ— ç¬¦å·ç±»å‹å¯ä»¥å­˜å‚¨çš„æ•°å­—èŒƒå›´æ˜¯
$$
0 ï½ 2^n - 1
$$
ï¼Œæ‰€ä»¥ `u8` èƒ½å¤Ÿå­˜å‚¨çš„æ•°å­—ä¸º 
$$
2^8-1
$$
ï¼Œå³ 0 ~ 255ã€‚

æ­¤å¤–ï¼Œ `isize` å’Œ `usize` ç±»å‹å–å†³äºè¿è¡Œç¨‹åºçš„è®¡ç®—æœºçš„ä½“ç³»ç»“æ„ï¼Œåœ¨è¡¨ä¸­è¡¨ç¤ºä¸ºâ€œarchâ€ï¼šå¦‚æœé‡‡ç”¨ 64 ä½ä½“ç³»ç»“æ„ï¼Œåˆ™ä¸º 64 ä½ï¼Œå¦‚æœé‡‡ç”¨ 32 ä½ä½“ç³»ç»“æ„ï¼Œåˆ™ä¸º 32 ä½ã€‚

å¯æŒ‰ä¸‹è¡¨æ‰€ç¤ºçš„ä»»æ„å½¢å¼æ¥ç¼–å†™æ•´å‹çš„å­—é¢é‡ã€‚æ³¨æ„ï¼Œå¯èƒ½å±äºå¤šç§æ•°å­—ç±»å‹çš„æ•°å­—å­—é¢é‡å…è®¸ä½¿ç”¨ç±»å‹åç¼€æ¥æŒ‡å®šç±»å‹ï¼Œä¾‹å¦‚ `57u8`ã€‚æ•°å­—å­—é¢é‡è¿˜å¯ä»¥ä½¿ç”¨ `_` ä½œä¸ºå¯è§†åˆ†éš”ç¬¦ä»¥æ–¹ä¾¿è¯»æ•°ï¼Œå¦‚ `1_000`å’Œ `1000`æ˜¯ç›¸åŒçš„ã€‚

| æ•°å­—å­—é¢é‡         | ç¤ºä¾‹          |
| ------------------ | ------------- |
| åè¿›åˆ¶             | `98_222`      |
| åå…­è¿›åˆ¶           | `0xff`        |
| å…«è¿›åˆ¶             | `0o77`        |
| äºŒè¿›åˆ¶             | `0b1111_0000` |
| å­—èŠ‚ (ä»…é™äº `u8`) | `b'A'`        |

é‚£ä¹ˆè¯¥ä½¿ç”¨å“ªç§ç±»å‹çš„æ•´å‹å‘¢ï¼Ÿå¦‚æœä¸ç¡®å®šï¼ŒRust çš„é»˜è®¤å½¢å¼é€šå¸¸æ˜¯ä¸ªä¸é”™çš„é€‰æ‹©ï¼Œæ•´å‹é»˜è®¤æ˜¯ `i32`ã€‚`isize` å’Œ `usize` çš„ä¸»è¦åº”ç”¨åœºæ™¯æ˜¯ç”¨ä½œæŸäº›é›†åˆçš„ç´¢å¼•ã€‚

> ##### æ•´å‹æº¢å‡º
>
> æ¯”æ–¹è¯´æœ‰ä¸€ä¸ª `u8` ï¼Œå®ƒå¯ä»¥å­˜æ”¾ä» 0 åˆ° 255 çš„å€¼ã€‚é‚£ä¹ˆå½“ä½ å°†å…¶ä¿®æ”¹ä¸ºèŒƒå›´ä¹‹å¤–çš„å€¼ï¼Œæ¯”å¦‚ 256ï¼Œåˆ™ä¼šå‘ç”Ÿ**æ•´å‹æº¢å‡º**ï¼ˆ*integer overflow*ï¼‰ï¼Œè¿™ä¼šå¯¼è‡´ä¸¤ç§è¡Œä¸ºçš„å…¶ä¸­ä¸€ç§ã€‚å½“åœ¨è°ƒè¯•ï¼ˆdebugï¼‰æ¨¡å¼ç¼–è¯‘æ—¶ï¼ŒRust ä¼šæ£€æŸ¥æ•´å‹æº¢å‡ºï¼Œè‹¥å­˜åœ¨è¿™äº›é—®é¢˜åˆ™ä½¿ç¨‹åºåœ¨ç¼–è¯‘æ—¶ *panic*ã€‚Rust ä½¿ç”¨ panic è¿™ä¸ªæœ¯è¯­æ¥è¡¨æ˜ç¨‹åºå› é”™è¯¯è€Œé€€å‡ºã€‚
>
> åœ¨å½“ä½¿ç”¨ `--release` å‚æ•°è¿›è¡Œ release æ¨¡å¼æ„å»ºæ—¶ï¼ŒRust **ä¸**æ£€æµ‹æº¢å‡ºã€‚ç›¸åï¼Œå½“æ£€æµ‹åˆ°æ•´å‹æº¢å‡ºæ—¶ï¼ŒRust ä¼šæŒ‰ç…§è¡¥ç å¾ªç¯æº¢å‡ºï¼ˆ*twoâ€™s complement wrapping*ï¼‰çš„è§„åˆ™å¤„ç†ã€‚ç®€è€Œè¨€ä¹‹ï¼Œå¤§äºè¯¥ç±»å‹æœ€å¤§å€¼çš„æ•°å€¼ä¼šè¢«è¡¥ç è½¬æ¢æˆè¯¥ç±»å‹èƒ½å¤Ÿæ”¯æŒçš„å¯¹åº”æ•°å­—çš„æœ€å°å€¼ã€‚æ¯”å¦‚åœ¨ `u8` çš„æƒ…å†µä¸‹ï¼Œ256 å˜æˆ 0ï¼Œ257 å˜æˆ 1ï¼Œä¾æ­¤ç±»æ¨ã€‚ç¨‹åºä¸ä¼š *panic*ï¼Œä½†æ˜¯è¯¥å˜é‡çš„å€¼å¯èƒ½ä¸æ˜¯ä½ æœŸæœ›çš„å€¼ã€‚ä¾èµ–è¿™ç§é»˜è®¤è¡Œä¸ºçš„ä»£ç éƒ½åº”è¯¥è¢«è®¤ä¸ºæ˜¯é”™è¯¯çš„ä»£ç ã€‚
>
> è¦æ˜¾å¼å¤„ç†å¯èƒ½çš„æº¢å‡ºï¼Œå¯ä»¥ä½¿ç”¨æ ‡å‡†åº“é’ˆå¯¹åŸå§‹æ•°å­—ç±»å‹æä¾›çš„è¿™äº›æ–¹æ³•ï¼š
>
> - ä½¿ç”¨ `wrapping_*` æ–¹æ³•åœ¨æ‰€æœ‰æ¨¡å¼ä¸‹éƒ½æŒ‰ç…§è¡¥ç å¾ªç¯æº¢å‡ºè§„åˆ™å¤„ç†ï¼Œä¾‹å¦‚ `wrapping_add`
> - å¦‚æœä½¿ç”¨ `checked_*` æ–¹æ³•æ—¶å‘ç”Ÿæº¢å‡ºï¼Œåˆ™è¿”å› `None` å€¼
> - ä½¿ç”¨ `overflowing_*` æ–¹æ³•è¿”å›è¯¥å€¼å’Œä¸€ä¸ªæŒ‡ç¤ºæ˜¯å¦å­˜åœ¨æº¢å‡ºçš„å¸ƒå°”å€¼
> - ä½¿ç”¨ `saturating_*` æ–¹æ³•ï¼Œå¯ä»¥é™å®šè®¡ç®—åçš„ç»“æœä¸è¶…è¿‡ç›®æ ‡ç±»å‹çš„æœ€å¤§å€¼æˆ–ä½äºæœ€å°å€¼ï¼Œä¾‹å¦‚:



##### æµ®ç‚¹ç±»å‹

Rust è¿˜æœ‰ä¸¤ç§æµ®ç‚¹æ•°çš„åŸºæœ¬ç±»å‹ï¼Œå®ƒä»¬æ˜¯å¸¦æœ‰å°æ•°ç‚¹çš„æ•°å­—ã€‚Rust çš„æµ®ç‚¹ç±»å‹æ˜¯ `f32` å’Œ `f64` ï¼Œå¤§å°åˆ†åˆ«ä¸º 32 ä½å’Œ 64 ä½ã€‚é»˜è®¤ç±»å‹æ˜¯ `f64` å› ä¸ºåœ¨ç°ä»£ CPU ä¸Šï¼Œå®ƒçš„é€Ÿåº¦ä¸ `f32` é€Ÿåº¦å¤§è‡´ç›¸åŒï¼Œä½†ç²¾åº¦æ›´é«˜ã€‚æ‰€æœ‰æµ®ç‚¹ç±»å‹éƒ½æœ‰ç¬¦å·çš„ã€‚

```rust
fn main() {
    let x = 2.0; // f64
    let y: f32 = 3.0; // f32
    println!("x: {x}, y: {y}")
}
```

æµ®ç‚¹æ•°æ ¹æ® IEEE-754 æ ‡å‡†è¡¨ç¤ºã€‚è¯¥ `f32` ç±»å‹æ˜¯å•ç²¾åº¦æµ®ç‚¹æ•°ï¼Œå¹¶ `f64` å…·æœ‰åŒç²¾åº¦ï¼Œä½†æ˜¯åˆ‡è®°ä¸è¦å¯¹æµ®ç‚¹æ•°è¿›è¡Œæ¯”è¾ƒï¼Œå› ä¸ºå­˜åœ¨ç²¾åº¦ç¼ºå¤±çš„é—®é¢˜ï¼Œæ¯”å¦‚`0.1+0.2 == 0.3`

```shell
$ cargo run
   Compiling variables v0.1.0 (/Users/wangyang/Documents/project/rust-learn/variables)
    Finished `dev` profile [unoptimized + debuginfo] target(s) in 4.67s
     Running `target/debug/variables`
x: 2, y: 3
```



##### æ•°å€¼è¿ç®—

Rust æ”¯æŒæ‰€æœ‰æ•°å­—ç±»å‹çš„åŸºæœ¬æ•°å­¦è¿ç®—ï¼šåŠ æ³•ã€å‡æ³•ã€ä¹˜æ³•ã€é™¤æ³•å’Œä½™æ•°ã€‚æ•´æ•°é™¤æ³•ä¼šå‘ä¸‹å–æ•´ã€‚ä¸‹é¢çš„ä»£ç æ¼”ç¤ºå¦‚ä½•åœ¨ `let` è¯­å¥ä¸­ä½¿ç”¨æ¯ä¸ªæ•°å€¼è¿ç®—ï¼š

```rust
fn main() {
    let sum = 5 + 10;
    let difference = 95.5 - 4.3;
    let product = 4 * 30;
    let quotient = 56.7 / 32.2;
    let floored = 2 / 3;
    let remainder = 43 % 5;
    println!("sum: {sum}, difference: {difference}, product: {product}, quotient: {quotient}, floored: {floored}, remainder: {remainder}")
}
```

è¿™äº›è¯­å¥ä¸­çš„æ¯ä¸ªè¡¨è¾¾å¼éƒ½ä½¿ç”¨äº†æ•°å­¦è¿ç®—ç¬¦ï¼Œå¹¶ä¸”è®¡ç®—ç»“æœä¸ºä¸€ä¸ªå€¼ï¼Œç„¶åç»‘å®šåˆ°ä¸€ä¸ªå˜é‡ä¸Šï¼Œç°åœ¨æ¥è¿è¡Œä¸€ä¸‹ï¼š

```shell
$ cargo run
   Compiling variables v0.1.0 (/Users/wangyang/Documents/project/rust-learn/variables)
    Finished `dev` profile [unoptimized + debuginfo] target(s) in 0.07s
     Running `target/debug/variables`
sum: 15, difference: 91.2, product: 120, quotient: 1.7608695652173911, floored: 0, remainder: 3
```



##### å¸ƒå°”ç±»å‹

ä¸å¤§å¤šæ•°å…¶ä»–ç¼–ç¨‹è¯­è¨€ä¸€æ ·ï¼ŒRust ä¸­çš„å¸ƒå°”ç±»å‹æœ‰ä¸¤ä¸ªå¯èƒ½çš„å€¼ï¼š `true` å’Œ `false` ã€‚å¸ƒå°”å€¼å¤§å°ä¸ºä¸€ä¸ªå­—èŠ‚ã€‚Rust ä¸­çš„å¸ƒå°”ç±»å‹æ˜¯ä½¿ç”¨ `bool` æŒ‡å®šã€‚ä¾‹å¦‚ï¼š

```rust
fn main() {
    let t = true;
    let f: bool = false; // æ˜¾å¼ç±»å‹æ ‡æ³¨
    println!("t: {t}, f: {f}")
}
```

ä½¿ç”¨å¸ƒå°”å€¼çš„ä¸»è¦æ–¹æ³•æ˜¯é€šè¿‡æ¡ä»¶ï¼Œä¾‹å¦‚ `if` è¡¨è¾¾å¼ã€‚æˆ‘ä»¬å°†åœ¨ â€œæ§åˆ¶æµâ€ éƒ¨åˆ†ä»‹ç»è¡¨è¾¾å¼åœ¨ Rust ä¸­çš„å·¥ä½œåŸç† `if` ã€‚



##### å­—ç¬¦ç±»å‹

Rust `char` çš„ç±»å‹æ˜¯è¯¥è¯­è¨€æœ€åŸå§‹çš„å­—æ¯ç±»å‹ã€‚ä¸‹é¢æ˜¯å£°æ˜ `char` å€¼çš„ä¸€äº›ç¤ºä¾‹ï¼š

```rust
fn main() {
    let c = 'z';
    let z = 'â„¤';
    let heart_eyed_cat = 'ğŸ˜»';
    println!("c: {c}, z: {z}, heart_eyed_cat: {heart_eyed_cat}")
}
```

æ³¨æ„ï¼Œæˆ‘ä»¬å£°æ˜çš„ `char` å­—é¢é‡é‡‡ç”¨å•å¼•å·æ‹¬èµ·æ¥ï¼Œè¿™ä¸å­—ç¬¦ä¸²å­—é¢é‡ä¸åŒï¼Œå­—ç¬¦ä¸²å­—é¢é‡æ˜¯ç”¨åŒå¼•å·æ‹¬èµ·æ¥ã€‚Rust çš„å­—ç¬¦ç±»å‹å¤§å°ä¸º 4 ä¸ªå­—èŠ‚ï¼Œè¡¨ç¤ºçš„æ˜¯ä¸€ä¸ª Unicode æ ‡é‡å€¼ï¼Œè¿™æ„å‘³ç€å®ƒå¯ä»¥è¡¨ç¤ºçš„è¿œè¿œä¸æ­¢æ˜¯ ASCIIã€‚æ ‡éŸ³å­—æ¯ï¼Œä¸­æ–‡/æ—¥æ–‡/éŸ©æ–‡çš„æ–‡å­—ï¼Œemojiï¼Œè¿˜æœ‰é›¶å®½ç©ºæ ¼(zero width space)åœ¨ Rust ä¸­éƒ½æ˜¯åˆæ³•çš„å­—ç¬¦ç±»å‹ã€‚Unicode å€¼çš„èŒƒå›´ä¸º `U+0000` ~ `U+D7FF` å’Œ `U+E000`~`U+10FFFF`ã€‚ä¸è¿‡â€œå­—ç¬¦â€å¹¶ä¸æ˜¯ Unicode ä¸­çš„ä¸€ä¸ªæ¦‚å¿µï¼Œæ‰€ä»¥äººåœ¨ç›´è§‰ä¸Šå¯¹â€œå­—ç¬¦â€çš„ç†è§£å’Œ Rust çš„å­—ç¬¦æ¦‚å¿µå¹¶ä¸ä¸€è‡´ã€‚

#### å¤åˆç±»å‹

å¤åˆç±»å‹å¯ä»¥å°†å¤šä¸ªå€¼ç»„åˆæˆä¸€ä¸ªç±»å‹ã€‚Rust æœ‰ä¸¤ç§åŸºæœ¬çš„å¤åˆç±»å‹ï¼šå…ƒç»„ï¼ˆtupleï¼‰å’Œæ•°ç»„ï¼ˆarrayï¼‰ã€‚

##### å…ƒç»„ç±»å‹

å…ƒç»„æ˜¯å°†å¤šç§ç±»å‹çš„å¤šä¸ªå€¼ç»„åˆåˆ°ä¸€ä¸ªå¤åˆç±»å‹ä¸­çš„ä¸€ç§åŸºæœ¬æ–¹å¼ã€‚å…ƒç»„çš„é•¿åº¦æ˜¯å›ºå®šçš„ï¼šå£°æ˜åï¼Œå®ƒä»¬å°±æ— æ³•å¢é•¿æˆ–ç¼©å°ã€‚

æˆ‘ä»¬é€šè¿‡åœ¨å°æ‹¬å·å†…å†™å…¥ä»¥é€—å·åˆ†éš”çš„å€¼åˆ—è¡¨æ¥åˆ›å»ºä¸€ä¸ªå…ƒç»„ã€‚å…ƒç»„ä¸­çš„æ¯ä¸ªä½ç½®éƒ½æœ‰ä¸€ä¸ªç±»å‹ï¼Œå¹¶ä¸”å…ƒç»„ä¸­ä¸åŒå€¼çš„ç±»å‹ä¸è¦æ±‚æ˜¯ç›¸åŒçš„ã€‚æˆ‘ä»¬åœ¨ä¸‹é¢ç¤ºä¾‹ä¸­æ·»åŠ äº†å¯é€‰çš„ç±»å‹æ ‡æ³¨ï¼š

```rust
fn main() {
    let tup: (i32, f64, u8) = (500, 6.4, 1);
}
```

å˜é‡ `tup` ç»‘å®šåˆ°æ•´ä¸ªå…ƒç»„ï¼Œå› ä¸ºå…ƒç»„è¢«è®¤ä½œæ˜¯å•ä¸ªå¤åˆå…ƒç´ ã€‚ æƒ³ä»å…ƒç»„ä¸­è·å–ä¸ªåˆ«å€¼ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ¨¡å¼åŒ¹é…æ¥è§£æ„ï¼ˆdestructureï¼‰å…ƒç»„çš„ä¸€ä¸ªå€¼ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

```rust
fn main() {
    let tup = (500, 6.4, 1);
    let (x, y, z) = tup;
    println!("x:{x}, y: {y}, z: {z}");
}
```

è¯¥ç¨‹åºé¦–å…ˆåˆ›å»ºä¸€ä¸ªå…ƒç»„å¹¶å°†å…¶ç»‘å®šåˆ°å˜é‡ `tup` ä¸Šã€‚ ç„¶åå®ƒå€ŸåŠ© `let` æ¥ä½¿ç”¨ä¸€ä¸ªæ¨¡å¼åŒ¹é… `tup`ï¼Œå¹¶å°†å®ƒåˆ†è§£æˆä¸‰ä¸ªå•ç‹¬çš„å˜é‡ `x`ã€`y` å’Œ `z`ã€‚ è¿™è¿‡ç¨‹ç§°ä¸º**è§£æ„**ï¼ˆ*destructuring*ï¼‰ï¼Œå› ä¸ºå®ƒå°†å•ä¸ªå…ƒç»„åˆ†ä¸ºä¸‰éƒ¨åˆ†ã€‚

ç°åœ¨è®©æˆ‘ä»¬ä¸€èµ·æ¥è¿è¡Œä¸‹ï¼š

```shell
$ cargo run
   Compiling variables v0.1.0 (/Users/wangyang/Documents/project/rust-learn/variables)
    Finished `dev` profile [unoptimized + debuginfo] target(s) in 0.07s
     Running `target/debug/variables`
x:500, y: 6.4, z: 1
```

é™¤äº†é€šè¿‡æ¨¡å¼åŒ¹é…è¿›è¡Œè§£æ„å¤–ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨ä¸€ä¸ªå¥ç‚¹ï¼ˆ`.`ï¼‰è¿ä¸Šè¦è®¿é—®çš„å€¼çš„ç´¢å¼•æ¥ç›´æ¥è®¿é—®å…ƒç»„å…ƒç´ ã€‚ä¾‹å¦‚ï¼š

```rust
fn main() {
    let x: (i32, f64, u8) = (500, 6.4, 1);
    let five_hundred = x.0;
    let six_point_four = x.1;
    let one = x.2;
    println!("five_hundred: {five_hundred}, six_point_four: {six_point_four}, one: {one}")
}
```

è¿è¡Œç»“æœå¦‚ä¸‹ï¼š

```shell
$ cargo run
   Compiling variables v0.1.0 (/Users/wangyang/Documents/project/rust-learn/variables)
    Finished `dev` profile [unoptimized + debuginfo] target(s) in 0.07s
     Running `target/debug/variables`
five_hundred: 500, six_point_four: 6.4, one: 1
```

è¯¥ç¨‹åºåˆ›å»ºå…ƒç»„ `x` ï¼Œç„¶åä½¿ç”¨å®ƒä»¬å„è‡ªçš„ç´¢å¼•è®¿é—®å…ƒç»„çš„æ¯ä¸ªå…ƒç´ ã€‚ä¸å¤§å¤šæ•°ç¼–ç¨‹è¯­è¨€ä¸€æ ·ï¼Œå…ƒç»„ä¸­çš„ç¬¬ä¸€ä¸ªç´¢å¼•æ˜¯ 0ã€‚

æ²¡æœ‰ä»»ä½•å€¼çš„å…ƒç»„ `()` æ˜¯ä¸€ç§ç‰¹æ®Šçš„ç±»å‹ï¼Œåªæœ‰ä¸€ä¸ªå€¼ï¼Œä¹Ÿå†™æˆ `()`ã€‚è¯¥ç±»å‹è¢«ç§°ä¸º**å•å…ƒç±»å‹**ï¼ˆ*unit type*ï¼‰ï¼Œè¯¥å€¼è¢«ç§°ä¸º**å•å…ƒå€¼**ï¼ˆ*unit value*ï¼‰ã€‚å¦‚æœè¡¨è¾¾å¼ä¸è¿”å›ä»»ä½•å…¶ä»–å€¼ï¼Œå°±éšå¼åœ°è¿”å›å•å…ƒå€¼ã€‚



##### æ•°ç»„ç±»å‹

æ‹¥æœ‰å¤šä¸ªå€¼é›†åˆçš„å¦ä¸€ç§æ–¹æ³•æ˜¯ä½¿ç”¨æ•°ç»„ã€‚ä¸å…ƒç»„ä¸åŒï¼Œæ•°ç»„çš„æ¯ä¸ªå…ƒç´ éƒ½å¿…é¡»å…·æœ‰ç›¸åŒçš„ç±»å‹ã€‚ä¸å…¶ä»–ä¸€äº›è¯­è¨€ä¸­çš„æ•°ç»„ä¸åŒï¼ŒRust ä¸­çš„æ•°ç»„å…·æœ‰å›ºå®šçš„é•¿åº¦ã€‚

```rust
fn main() {
    let a = [1, 2, 3, 4, 5];
    println!("a:{:?}", a);
}
```

è¿è¡Œå¦‚ä¸‹ï¼š

```shell
$ cargo run
   Compiling variables v0.1.0 (/Users/wangyang/Documents/project/rust-learn/variables)
    Finished `dev` profile [unoptimized + debuginfo] target(s) in 0.11s
     Running `target/debug/variables`
a:[1, 2, 3, 4, 5]
```

å½“ä½ å¸Œæœ›å°†æ•°æ®åˆ†é…åˆ°æ ˆï¼ˆstackï¼‰è€Œä¸æ˜¯å †ï¼ˆheapï¼‰æ—¶ï¼Œæˆ–è€…å½“æ‚¨å¸Œæœ›ç¡®ä¿å§‹ç»ˆå…·æœ‰å›ºå®šæ•°é‡çš„å…ƒç´ æ—¶ï¼Œæ•°ç»„éå¸¸æœ‰ç”¨ã€‚ä½†æ˜¯ï¼Œæ•°ç»„å¹¶ä¸åƒå‘é‡ï¼ˆvectorï¼‰ç±»å‹é‚£æ ·çµæ´»ã€‚å‘é‡æ˜¯æ ‡å‡†åº“æä¾›çš„ç±»ä¼¼é›†åˆç±»å‹ï¼Œå…è®¸å¢å¤§æˆ–ç¼©å°å¤§å°ã€‚å¦‚æœæ‚¨ä¸ç¡®å®šæ˜¯ä½¿ç”¨æ•°ç»„è¿˜æ˜¯å‘é‡ï¼Œåˆ™å¾ˆå¯èƒ½åº”è¯¥ä½¿ç”¨å‘é‡ã€‚

ä½†æ˜¯ï¼Œå½“æ‚¨çŸ¥é“ä¸éœ€è¦æ›´æ”¹å…ƒç´ çš„æ•°é‡æ—¶ï¼Œæ•°ç»„ä¼šæ›´æœ‰ç”¨ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä½ åœ¨ç¨‹åºä¸­ä½¿ç”¨æœˆä»½çš„åç§°ï¼Œä½ å¯èƒ½ä¼šä½¿ç”¨æ•°ç»„è€Œä¸æ˜¯å‘é‡ï¼Œå› ä¸ºä½ çŸ¥é“å®ƒæ€»æ˜¯åŒ…å« 12 ä¸ªå…ƒç´ ï¼š

```rust
let months = ["January", "February", "March", "April", "May", "June", "July",
              "August", "September", "October", "November", "December"];
```

æ‚¨å¯ä»¥ä½¿ç”¨æ–¹æ‹¬å·ç¼–å†™æ•°ç»„çš„ç±»å‹ï¼Œå…¶ä¸­åŒ…å«æ¯ä¸ªå…ƒç´ çš„ç±»å‹ã€åˆ†å·ï¼Œç„¶åæ˜¯æ•°ç»„ä¸­çš„å…ƒç´ æ•°ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

```rust
fn main() {
    let a:[i32;6] = [1, 2, 3, 4, 5, 6];
    println!("a:{:?}", a);
}
```

è¿™é‡Œï¼Œ`i32` æ˜¯æ¯ä¸ªå…ƒç´ çš„ç±»å‹ã€‚åˆ†å·ä¹‹åï¼Œæ•°å­— `5` è¡¨æ˜è¯¥æ•°ç»„åŒ…å« 5 ä¸ªå…ƒç´ ã€‚

æ‚¨è¿˜å¯ä»¥é€šè¿‡æŒ‡å®šåˆå§‹å€¼ï¼Œåè·Ÿåˆ†å·ï¼Œç„¶ååœ¨æ–¹æ‹¬å·ä¸­æŒ‡å®šæ•°ç»„çš„é•¿åº¦ï¼Œå°†æ•°ç»„åˆå§‹åŒ–ä¸ºåŒ…å«æ¯ä¸ªå…ƒç´ çš„ç›¸åŒå€¼ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

```rust
fn main() {
    let a = [3; 5];
    println!("a:{:?}", a);
}
```

å‘½å `a` çš„æ•°ç»„å°†åŒ…å« `5` æœ€åˆå°†å…¨éƒ¨è®¾ç½®ä¸ºè¯¥å€¼ `3` çš„å…ƒç´ ã€‚è¿™ä¸å†™ä½œ `let a = [3, 3, 3, 3, 3];` ç›¸åŒï¼Œä½†æ›´ç®€æ´ã€‚

###### è®¿é—®æ•°ç»„å…ƒç´ 

æ•°ç»„æ˜¯å¯ä»¥åœ¨å †æ ˆä¸Šåˆ†é…çš„å·²çŸ¥å›ºå®šå¤§å°çš„å•ä¸ªå†…å­˜å—ã€‚æ‚¨å¯ä»¥ä½¿ç”¨ç´¢å¼•è®¿é—®æ•°ç»„çš„å…ƒç´ ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

```rust
fn main() {
    let a:[i32;6] = [1, 2, 3, 4, 5, 6];
    let first = a[0];
    let second = a[1];
    println!("a:{:?}", a);
    println!("first: {first}, second: {second}")
}
```

åœ¨æ­¤ç¤ºä¾‹ä¸­ï¼Œå‘½å `first` çš„å˜é‡å°†è·å–è¯¥å€¼ `1` ï¼Œå› ä¸ºå®ƒæ˜¯æ•°ç»„ä¸­ index `[0]` å¤„çš„å€¼ã€‚å‘½å `second` çš„å˜é‡å°†ä»æ•°ç»„ä¸­çš„ index `[1]` ä¸­è·å–å€¼ `2` ã€‚

###### æ— æ•ˆçš„æ•°ç»„å…ƒç´ è®¿é—®

è®©æˆ‘ä»¬çœ‹çœ‹ï¼Œå¦‚æœå°è¯•è®¿é—®æ•°ç»„æœ«å°¾çš„æ•°ç»„å…ƒç´ ï¼Œä¼šå‘ç”Ÿä»€ä¹ˆã€‚å‡è®¾æ‚¨è¿è¡Œä»¥ä¸‹ä»£ç ï¼Œç±»ä¼¼äºç¬¬ 2 ç« ä¸­çš„çŒœè°œæ¸¸æˆï¼Œä»ç”¨æˆ·é‚£é‡Œè·å–æ•°ç»„ç´¢å¼•ï¼š

```rust

use std::io;
// æ— æ•ˆçš„æ•°ç»„è®¿é—®
fn  main() {
    let a = [1,2,3,4,5,6];
    println!("Please enter an array indexï¼š");
    let mut index = String::new();
    io::stdin().read_line(&mut index)
        .expect("Failed to read line");
    let index: usize = index.trim().parse()
        .expect("Index entered was not a number");
    let element = a[index];
    println!("The value of the element at index {index} is: {element}");
}
```

æ­¤ä»£ç ç¼–è¯‘æˆåŠŸã€‚å¦‚æœä½¿ç”¨ using `cargo run` å¹¶è¾“å…¥ `0` ã€ `1` ã€ `2` ã€ æˆ– `3` `4` è¿è¡Œæ­¤ä»£ç ï¼Œåˆ™ç¨‹åºå°†åœ¨æ•°ç»„ä¸­è¯¥ç´¢å¼•å¤„æ‰“å°å‡ºç›¸åº”çš„å€¼ã€‚å¦‚æœæ”¹ä¸ºè¾“å…¥æ•°ç»„æœ«å°¾çš„æ•°å­—ï¼Œä¾‹å¦‚ `10` ï¼Œåˆ™ä¼šçœ‹åˆ°å¦‚ä¸‹æ‰€ç¤ºçš„è¾“å‡ºï¼š

```shell
    Finished `dev` profile [unoptimized + debuginfo] target(s) in 0.00s
     Running `target/debug/variables`
Please enter an array indexï¼š
10
thread 'main' panicked at src/main.rs:121:19:
index out of bounds: the len is 6 but the index is 10
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace
```

åœ¨ç´¢å¼•æ“ä½œä¸­ä½¿ç”¨æ— æ•ˆå€¼æ—¶ï¼Œç¨‹åºä¼šå¯¼è‡´è¿è¡Œæ—¶é”™è¯¯ã€‚ç¨‹åºé€€å‡ºå¹¶æ˜¾ç¤ºé”™è¯¯æ¶ˆæ¯ï¼Œå¹¶ä¸”æœªæ‰§è¡Œæœ€ç»ˆ `println!` è¯­å¥ã€‚å½“æ‚¨å°è¯•ä½¿ç”¨ç´¢å¼•è®¿é—®å…ƒç´ æ—¶ï¼ŒRust å°†æ£€æŸ¥æ‚¨æŒ‡å®šçš„ç´¢å¼•æ˜¯å¦å°äºæ•°ç»„é•¿åº¦ã€‚å¦‚æœç´¢å¼•å¤§äºæˆ–ç­‰äºé•¿åº¦ï¼ŒRust å°†å´©æºƒã€‚æ­¤æ£€æŸ¥å¿…é¡»åœ¨è¿è¡Œæ—¶è¿›è¡Œï¼Œå°¤å…¶æ˜¯åœ¨è¿™ç§æƒ…å†µä¸­ï¼Œå› ä¸ºç¼–è¯‘å™¨ä¸å¯èƒ½çŸ¥é“ç”¨æˆ·ç¨åè¿è¡Œä»£ç æ—¶å°†è¾“å…¥ä»€ä¹ˆå€¼ã€‚

è¿™æ˜¯ Rust å†…å­˜å®‰å…¨åŸåˆ™çš„ä¸€ä¸ªä¾‹å­ã€‚åœ¨è®¸å¤šä½çº§è¯­è¨€ä¸­ï¼Œè¿™ç§æ£€æŸ¥æ˜¯ä¸åšçš„ï¼Œå½“ä½ æä¾›ä¸æ­£ç¡®çš„ç´¢å¼•æ—¶ï¼Œå¯ä»¥è®¿é—®æ— æ•ˆçš„å†…å­˜ã€‚Rust é€šè¿‡ç«‹å³é€€å‡ºè€Œä¸æ˜¯å…è®¸å†…å­˜è®¿é—®å¹¶ç»§ç»­æ¥ä¿æŠ¤æ‚¨å…å—æ­¤ç±»é”™è¯¯çš„å½±å“ã€‚

#### å‡½æ•°

å‡½æ•°åœ¨ Rust ä»£ç ä¸­å¾ˆæ™®éã€‚æ‚¨å·²ç»çœ‹åˆ°äº†è¯¥è¯­è¨€ä¸­æœ€é‡è¦çš„å‡½æ•°ä¹‹ä¸€ï¼š `main` å‡½æ•°ï¼Œå®ƒæ˜¯è®¸å¤šç¨‹åºçš„å…¥å£ç‚¹ã€‚æ‚¨è¿˜çœ‹åˆ°äº† `fn` å…³é”®å­—ï¼Œå®ƒå…è®¸æ‚¨å£°æ˜æ–°å‡½æ•°ã€‚

Rust ä»£ç ä¸­çš„å‡½æ•°å’Œå˜é‡åä½¿ç”¨ä¸‹åˆ’çº¿å‘½åæ³•ï¼ˆ*snake case*ï¼Œç›´è¯‘ä¸ºè›‡å½¢å‘½åæ³•ï¼‰è§„èŒƒé£æ ¼ã€‚åœ¨ä¸‹åˆ’çº¿å‘½åæ³•ä¸­ï¼Œæ‰€æœ‰å­—æ¯éƒ½æ˜¯å°å†™å¹¶ä½¿ç”¨ä¸‹åˆ’çº¿åˆ†éš”å•è¯ã€‚è¿™æ˜¯ä¸€ä¸ªåŒ…å«å‡½æ•°å®šä¹‰ç¤ºä¾‹çš„ç¨‹åºï¼š

```rust
fn main() {
    println!("Hello, world!");
    author_function();
}

fn author_function() {
    println!("author function")
}
```

æˆ‘ä»¬åœ¨ Rust ä¸­å®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼Œæ–¹æ³•æ˜¯è¾“å…¥ `fn` åè·Ÿä¸€ä¸ªå‡½æ•°åç§°å’Œä¸€ç»„æ‹¬å·ã€‚å¤§æ‹¬å·å‘Šè¯‰ç¼–è¯‘å™¨å‡½æ•°ä½“çš„å¼€å§‹å’Œç»“æŸä½ç½®ã€‚

æˆ‘ä»¬å¯ä»¥é€šè¿‡è¾“å…¥å…¶åç§°åè·Ÿä¸€ç»„æ‹¬å·æ¥è°ƒç”¨æˆ‘ä»¬å®šä¹‰çš„ä»»ä½•å‡½æ•°ã€‚å› ä¸ºå®ƒæ˜¯ `another_function` åœ¨ç¨‹åºä¸­å®šä¹‰çš„ï¼Œæ‰€ä»¥å¯ä»¥ä» `main` å‡½æ•°å†…éƒ¨è°ƒç”¨å®ƒã€‚è¯·æ³¨æ„ï¼Œæˆ‘ä»¬åœ¨æºä»£ç  `another_function` ä¸­å®šä¹‰äº† `main` å‡½æ•°ä¹‹å;æˆ‘ä»¬ä¹‹å‰ä¹Ÿå¯ä»¥å®šä¹‰å®ƒã€‚Rust å¹¶ä¸å…³å¿ƒä½ åœ¨å“ªé‡Œå®šä¹‰å‡½æ•°ï¼Œåªå…³å¿ƒå®ƒä»¬åœ¨è°ƒç”¨è€…å¯ä»¥çœ‹åˆ°çš„ä½œç”¨åŸŸä¸­çš„æŸä¸ªä½ç½®å®šä¹‰ã€‚

`main` å‡½æ•°ä¸­çš„ä»£ç ä¼šæŒ‰é¡ºåºæ‰§è¡Œã€‚é¦–å…ˆï¼Œæ‰“å° â€œHello, world!â€ ä¿¡æ¯ï¼Œç„¶åè°ƒç”¨ `another_function` å‡½æ•°å¹¶æ‰“å°å®ƒçš„ä¿¡æ¯ã€‚

```shell
$ cargo run
   Compiling function v0.1.0 (/Users/wangyang/Documents/project/rust-learn/function)
    Finished `dev` profile [unoptimized + debuginfo] target(s) in 0.19s
     Running `target/debug/function`
Hello, world!
author function
```

##### å‚æ•°

å‡½æ•°ä¹Ÿå¯ä»¥è¢«å®šä¹‰ä¸ºæ‹¥æœ‰**å‚æ•°**ï¼ˆ*parameter*ï¼‰ï¼Œå‚æ•°æ˜¯ç‰¹æ®Šå˜é‡ï¼Œæ˜¯å‡½æ•°ç­¾åçš„ä¸€éƒ¨åˆ†ã€‚å½“å‡½æ•°æ‹¥æœ‰å‚æ•°ï¼ˆå½¢å‚ï¼‰æ—¶ï¼Œå¯ä»¥ä¸ºè¿™äº›å‚æ•°æä¾›å…·ä½“çš„å€¼ï¼ˆå®å‚ï¼‰ã€‚æŠ€æœ¯ä¸Šè®²ï¼Œè¿™äº›å…·ä½“å€¼è¢«ç§°ä¸º**å®å‚**ï¼ˆ*argument*ï¼‰ï¼Œä½†æ˜¯åœ¨æ—¥å¸¸äº¤æµä¸­ï¼Œäººä»¬å€¾å‘äºä¸åŒºåˆ†ä½¿ç”¨ *parameter* å’Œ *argument* æ¥è¡¨ç¤ºå‡½æ•°å®šä¹‰ä¸­çš„å˜é‡æˆ–è°ƒç”¨å‡½æ•°æ—¶ä¼ å…¥çš„å…·ä½“å€¼ã€‚

åœ¨è¿™ä¸ªç‰ˆæœ¬çš„ `another_function` ä¸­ï¼Œæˆ‘ä»¬æ·»åŠ äº†ä¸€ä¸ªå‚æ•°ï¼š

```rust
fn main() {
    author_function("Tim");
}

fn author_function(name: &str) {
    println!("author function: {}", name)
}
```

è¿è¡Œç»“æœå¦‚ä¸‹ï¼š

```shell
$ cargo run
   Compiling function v0.1.0 (/Users/wangyang/Documents/project/rust-learn/function)
    Finished `dev` profile [unoptimized + debuginfo] target(s) in 0.07s
     Running `target/debug/function`
author function: Tim
```

åœ¨å‡½æ•°ç­¾åä¸­ï¼Œ**å¿…é¡»**å£°æ˜æ¯ä¸ªå‚æ•°çš„ç±»å‹ã€‚è¿™æ˜¯ä¸€ä¸ª Rust è®¾è®¡ä¸­ç»è¿‡æ…é‡è€ƒè™‘çš„å†³å®šï¼šè¦æ±‚åœ¨å‡½æ•°å®šä¹‰ä¸­æä¾›ç±»å‹æ ‡æ³¨ï¼Œæ„å‘³ç€ç¼–è¯‘å™¨å‡ ä¹ä»ä¸éœ€è¦ä½ åœ¨ä»£ç çš„å…¶ä»–åœ°æ–¹æ³¨æ˜ç±»å‹æ¥æŒ‡å‡ºä½ çš„æ„å›¾ã€‚

å½“ä¸€ä¸ªå‡½æ•°æœ‰å¤šä¸ªå‚æ•°æ—¶ï¼Œä½¿ç”¨é€—å·åˆ†éš”ï¼Œåƒè¿™æ ·ï¼š

```rust
fn main() {
    author_function("Tim", 10);
}

fn author_function(name: &str, age: i32) {
    println!("author function name: {}, age:{}", name, age)
}
```

è¿è¡Œç»“æœå¦‚ä¸‹ï¼š

```shell
$ cargo run
   Compiling function v0.1.0 (/Users/wangyang/Documents/project/rust-learn/function)
    Finished `dev` profile [unoptimized + debuginfo] target(s) in 0.07s
     Running `target/debug/function`
author function name: Tim, age:10
```

##### è¯­å¥å’Œè¡¨è¾¾å¼

å‡½æ•°ä½“ç”±ä¸€ç³»åˆ—è¯­å¥ç»„æˆï¼Œä¹Ÿå¯é€‰æ‹©ä»¥è¡¨è¾¾å¼ç»“å°¾ã€‚ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬ä»‹ç»çš„å‡½æ•°è¿˜æ²¡æœ‰åŒ…å«ç»“å°¾è¡¨è¾¾å¼ï¼Œä¸è¿‡ä½ å·²ç»çœ‹åˆ°äº†è¡¨è¾¾å¼ä½œä¸ºè¯­å¥çš„ä¸€éƒ¨åˆ†ã€‚å› ä¸º Rust æ˜¯ä¸€é—¨åŸºäºè¡¨è¾¾å¼ï¼ˆexpression-basedï¼‰çš„è¯­è¨€ï¼Œæ‰€ä»¥è¿™æ˜¯ä¸€ä¸ªéœ€è¦ç†è§£çš„é‡è¦åŒºåˆ«ã€‚å…¶ä»–è¯­è¨€æ²¡æœ‰è¿™æ ·çš„åŒºåˆ«ï¼Œæ‰€ä»¥è®©æˆ‘ä»¬çœ‹çœ‹è¯­å¥å’Œè¡¨è¾¾å¼åˆ†åˆ«æ˜¯ä»€ä¹ˆï¼Œä»¥åŠå®ƒä»¬çš„åŒºåˆ«å¦‚ä½•å½±å“å‡½æ•°ä½“ã€‚

**è¯­å¥**ï¼ˆ***Statements***ï¼‰æ˜¯æ‰§è¡Œä¸€äº›æ“ä½œä½†ä¸è¿”å›å€¼çš„æŒ‡ä»¤ã€‚

è¡¨è¾¾å¼ï¼ˆ***Expressions***ï¼‰è®¡ç®—å¹¶äº§ç”Ÿä¸€ä¸ªå€¼ã€‚

è®©æˆ‘ä»¬çœ‹ä¸€äº›ä¾‹å­ï¼š

å®é™…ä¸Šï¼Œæˆ‘ä»¬å·²ç»ä½¿ç”¨è¿‡è¯­å¥å’Œè¡¨è¾¾å¼ã€‚ä½¿ç”¨ `let` å…³é”®å­—åˆ›å»ºå˜é‡å¹¶ç»‘å®šä¸€ä¸ªå€¼æ˜¯ä¸€ä¸ªè¯­å¥ã€‚

```rust
fn main() {
    let y = 6;
}
```

å‡½æ•°å®šä¹‰ä¹Ÿæ˜¯è¯­å¥ï¼Œä¸Šé¢çš„æ•´ä¸ªç¤ºä¾‹æœ¬èº«å°±æ˜¯ä¸€ä¸ªè¯­å¥ã€‚è¯­å¥ä¸è¿”å›å€¼ã€‚å› æ­¤ï¼Œä¸èƒ½æŠŠ `let` è¯­å¥èµ‹å€¼ç»™å¦ä¸€ä¸ªå˜é‡ï¼Œå°±åƒä¸‹é¢çš„ä»£ç å°è¯•åšçš„é‚£æ ·ï¼Œä¼šäº§ç”Ÿä¸€ä¸ªé”™è¯¯ï¼š

```rust
fn main() {
    let x = (let y = 6);
}
```

é”™è¯¯å¦‚ä¸‹ï¼š

```shell
$ cargo run
 Compiling function v0.1.0 (/Users/wangyang/Documents/project/rust-learn/function)
error: expected expression, found `let` statement
  --> src/main.rs:15:14
   |
15 |     let x = (let y = 6);
   |              ^^^
   |
   = note: only supported directly in conditions of `if` and `while` expressions

warning: unnecessary parentheses around assigned value
  --> src/main.rs:15:13
   |
15 |     let x = (let y = 6);
   |             ^         ^
   |
   = note: `#[warn(unused_parens)]` on by default
help: remove these parentheses
   |
15 -     let x = (let y = 6);
15 +     let x = let y = 6;
   |

warning: `function` (bin "function") generated 1 warning
error: could not compile `function` (bin "function") due to 1 previous error; 1 warning emitted
```

`let y = 6` è¯­å¥ä¸è¿”å›å€¼ï¼Œå› æ­¤æ²¡æœ‰ä»»ä½•è¦ `x` ç»‘å®šçš„å†…å®¹ã€‚è¿™ä¸å…¶ä»–è¯­è¨€ï¼ˆå¦‚ C å’Œ Rubyï¼‰ä¸­å‘ç”Ÿçš„æƒ…å†µä¸åŒï¼Œåœ¨ C å’Œ Ruby ä¸­ï¼Œèµ‹å€¼è¿”å›èµ‹å€¼ã€‚åœ¨è¿™äº›è¯­è¨€ä¸­ï¼Œæ‚¨å¯ä»¥åŒæ—¶ç¼–å†™ `x = y = 6` å¹¶æ‹¥æœ‰ä¸¤è€… `x` å¹¶ `y` å…·æœ‰å€¼ `6` ;åœ¨ Rust ä¸­å¹¶éå¦‚æ­¤ã€‚

è¡¨è¾¾å¼ä¼šè®¡ç®—å‡ºä¸€ä¸ªå€¼ï¼Œå¹¶ä¸”ä½ æ¥ä¸‹æ¥è¦ç”¨ Rust ç¼–å†™çš„å¤§éƒ¨åˆ†ä»£ç éƒ½ç”±è¡¨è¾¾å¼ç»„æˆã€‚è€ƒè™‘ä¸€ä¸ªæ•°å­¦è¿ç®—ï¼Œæ¯”å¦‚ `5 + 6`ï¼Œè¿™æ˜¯ä¸€ä¸ªè¡¨è¾¾å¼å¹¶è®¡ç®—å‡ºå€¼ `11`ã€‚è¡¨è¾¾å¼å¯ä»¥æ˜¯è¯­å¥çš„ä¸€éƒ¨åˆ†ï¼šåœ¨ç¤ºä¾‹ä¸­ï¼Œè¯­å¥ `let y = 6;` ä¸­çš„ `6` æ˜¯ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œå®ƒè®¡ç®—å‡ºçš„å€¼æ˜¯ `6`ã€‚å‡½æ•°è°ƒç”¨æ˜¯ä¸€ä¸ªè¡¨è¾¾å¼ã€‚å®è°ƒç”¨æ˜¯ä¸€ä¸ªè¡¨è¾¾å¼ã€‚æˆ‘ä»¬ç”¨æ¥åˆ›å»ºæ–°ä½œç”¨åŸŸçš„å¤§æ‹¬å·ï¼ˆä»£ç å—ï¼‰ `{}` ä¹Ÿæ˜¯ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œä¾‹å¦‚ï¼š

```rust
fn main() {
    let y = {
        let x = 3;
        x + 1
    };

    println!("The value of y is: {}", y);
}
```

è¡¨è¾¾å¼ï¼š

```rust
{
  let x = 3;
  x + 1
};
```

æ˜¯ä¸€ä¸ªä»£ç å—ï¼Œåœ¨è¿™ä¸ªä¾‹å­ä¸­è®¡ç®—ç»“æœæ˜¯ `4`ã€‚è¿™ä¸ªå€¼ä½œä¸º `let` è¯­å¥çš„ä¸€éƒ¨åˆ†è¢«ç»‘å®šåˆ° `y` ä¸Šã€‚æ³¨æ„ï¼Œ`x + 1` è¡Œçš„æœ«å°¾æ²¡æœ‰åˆ†å·ï¼Œè¿™ä¸ä½ ç›®å‰è§è¿‡çš„å¤§éƒ¨åˆ†ä»£ç è¡Œä¸åŒã€‚è¡¨è¾¾å¼çš„ç»“å°¾æ²¡æœ‰åˆ†å·ã€‚å¦‚æœåœ¨è¡¨è¾¾å¼çš„æœ«å°¾åŠ ä¸Šåˆ†å·ï¼Œé‚£ä¹ˆå®ƒå°±è½¬æ¢ä¸ºè¯­å¥ï¼Œè€Œè¯­å¥ä¸ä¼šè¿”å›å€¼ã€‚åœ¨æ¥ä¸‹æ¥æ¢è®¨å‡½æ•°è¿”å›å€¼å’Œè¡¨è¾¾å¼æ—¶ï¼Œè¯·è®°ä½è¿™ä¸€ç‚¹ã€‚

##### å¸¦æœ‰è¿”å›å€¼çš„å‡½æ•°

å‡½æ•°å¯ä»¥å‘è°ƒç”¨å®ƒçš„ä»£ç è¿”å›å€¼ã€‚æˆ‘ä»¬å¹¶ä¸å¯¹è¿”å›å€¼å‘½åï¼Œä½†è¦åœ¨ç®­å¤´ï¼ˆ`->`ï¼‰åå£°æ˜å®ƒçš„ç±»å‹ã€‚åœ¨ Rust ä¸­ï¼Œå‡½æ•°çš„è¿”å›å€¼ç­‰åŒäºå‡½æ•°ä½“æœ€åä¸€ä¸ªè¡¨è¾¾å¼çš„å€¼ã€‚ä½¿ç”¨ `return` å…³é”®å­—å’ŒæŒ‡å®šå€¼ï¼Œå¯ä»¥ä»å‡½æ•°ä¸­æå‰è¿”å›ï¼›ä½†å¤§éƒ¨åˆ†å‡½æ•°éšå¼è¿”å›æœ€åä¸€ä¸ªè¡¨è¾¾å¼ã€‚è¿™æ˜¯ä¸€ä¸ªæœ‰è¿”å›å€¼å‡½æ•°çš„ä¾‹å­ï¼š

```rust
fn five() -> i32 {
    5
}

fn main() {
    let x = five();

    println!("The value of x is: {}", x);
}
```

åœ¨ `five` å‡½æ•°ä¸­æ²¡æœ‰å‡½æ•°è°ƒç”¨ã€å®ï¼Œç”šè‡³æ²¡æœ‰ `let` è¯­å¥â€”â€”åªæœ‰æ•°å­— `5` æœ¬èº«ã€‚è¿™åœ¨ Rust ä¸­æ˜¯ä¸€ä¸ªå®Œå…¨æœ‰æ•ˆçš„å‡½æ•°ã€‚æ³¨æ„ï¼Œå‡½æ•°è¿”å›å€¼çš„ç±»å‹ä¹Ÿè¢«æŒ‡å®šå¥½ï¼Œå³ `-> i32`ã€‚å°è¯•è¿è¡Œä»£ç ï¼›è¾“å‡ºåº”å¦‚ä¸‹æ‰€ç¤ºï¼š

```shell
$ cargo run
 Compiling function v0.1.0 (/Users/wangyang/Documents/project/rust-learn/function)
    Finished `dev` profile [unoptimized + debuginfo] target(s) in 0.07s
     Running `target/debug/function`
The value of x is: 5
```

`five` å‡½æ•°çš„è¿”å›å€¼æ˜¯ `5`ï¼Œæ‰€ä»¥è¿”å›å€¼ç±»å‹æ˜¯ `i32`ã€‚è®©æˆ‘ä»¬ä»”ç»†æ£€æŸ¥ä¸€ä¸‹è¿™æ®µä»£ç ã€‚æœ‰ä¸¤ä¸ªé‡è¦çš„éƒ¨åˆ†ï¼šé¦–å…ˆï¼Œ`let x = five();` è¿™ä¸€è¡Œè¡¨æ˜æˆ‘ä»¬ä½¿ç”¨å‡½æ•°çš„è¿”å›å€¼åˆå§‹åŒ–ä¸€ä¸ªå˜é‡ã€‚å› ä¸º `five` å‡½æ•°è¿”å› `5`ï¼Œè¿™ä¸€è¡Œä¸å¦‚ä¸‹ä»£ç ç›¸åŒï¼š

```rust
let x = 5;
```

å…¶æ¬¡ï¼Œ`five` å‡½æ•°æ²¡æœ‰å‚æ•°å¹¶å®šä¹‰äº†è¿”å›å€¼ç±»å‹ï¼Œä¸è¿‡å‡½æ•°ä½“åªæœ‰å•å•ä¸€ä¸ª `5` ä¹Ÿæ²¡æœ‰åˆ†å·ï¼Œå› ä¸ºè¿™æ˜¯ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œæ­£æ˜¯æˆ‘ä»¬æƒ³è¦è¿”å›çš„å€¼ã€‚

```rust
fn main() {
    let x = plus_one(5);

    println!("The value of x is: {}", x);
}

fn plus_one(x: i32) -> i32 {
    x + 1
}
```

è¿è¡Œå¦‚ä¸‹ï¼š

```shell
$ cargo run
	Compiling function v0.1.0 (/Users/wangyang/Documents/project/rust-learn/function)
    Finished `dev` profile [unoptimized + debuginfo] target(s) in 0.07s
     Running `target/debug/function`
The value of x is: 6
```

è¿è¡Œä»£ç ä¼šæ‰“å°å‡º `The value of x is: 6`ã€‚ä½†å¦‚æœåœ¨åŒ…å« `x + 1` çš„è¡Œå°¾åŠ ä¸Šä¸€ä¸ªåˆ†å·ï¼ŒæŠŠå®ƒä»è¡¨è¾¾å¼å˜æˆè¯­å¥ï¼Œæˆ‘ä»¬å°†å¾—åˆ°ä¸€ä¸ªé”™è¯¯ã€‚

```rust
fn main() {
    let x = plus_one(5);

    println!("The value of x is: {}", x);
}

fn plus_one(x: i32) -> i32 {
    x + 1;
}
```

è¿è¡Œä»£ç ä¼šäº§ç”Ÿä¸€ä¸ªé”™è¯¯ï¼Œå¦‚ä¸‹ï¼š

```shell
   Compiling function v0.1.0 (/Users/wangyang/Documents/project/rust-learn/function)
error[E0308]: mismatched types
  --> src/main.rs:43:24
   |
43 | fn plus_one(x: i32) -> i32 {
   |    --------            ^^^ expected `i32`, found `()`
   |    |
   |    implicitly returns `()` as its body has no tail or `return` expression
44 |     x + 1;
   |          - help: remove this semicolon to return this value

For more information about this error, try `rustc --explain E0308`.
error: could not compile `function` (bin "function") due to 1 previous error
```

ä¸»è¦é”™è¯¯æ¶ˆæ¯ `mismatched types` æ­ç¤ºäº†æ­¤ä»£ç çš„æ ¸å¿ƒé—®é¢˜ã€‚è¯¥å‡½æ•° `plus_one` çš„å®šä¹‰è¯´å®ƒå°†è¿”å›ä¸€ä¸ª `i32` ï¼Œä½†è¯­å¥çš„è®¡ç®—ç»“æœä¸ä¸ºä¸€ä¸ªå€¼ï¼Œè¯¥å€¼ç”± `()` å•ä½ç±»å‹ è¡¨ç¤ºã€‚å› æ­¤ï¼Œä¸è¿”å›ä»»ä½•å†…å®¹ï¼Œè¿™ä¸å‡½æ•°å®šä¹‰ç›¸çŸ›ç›¾å¹¶å¯¼è‡´é”™è¯¯ã€‚åœ¨æ­¤è¾“å‡ºä¸­ï¼ŒRust æä¾›äº†ä¸€æ¡å¯èƒ½æœ‰åŠ©äºçº æ­£æ­¤é—®é¢˜çš„æ¶ˆæ¯ï¼šå®ƒå»ºè®®åˆ é™¤åˆ†å·ï¼Œè¿™å°†ä¿®å¤é”™è¯¯ã€‚

#### æ³¨é‡Š



